# Example configuration for terraform-ingest
# This file defines the repositories to ingest and processing options

repositories:
  # Example: AWS VPC Terraform module
  - url: https://github.com/terraform-aws-modules/terraform-aws-vpc
    name: terraform-aws-vpc
    branches:
      - main
      - master
    include_tags: true
    max_tags: 5
    path: .
    recursive: true
    exclude_paths:
      - "examples/*"
      - "test/*"

  # Example: AWS EC2 Terraform module
  - url: https://github.com/terraform-aws-modules/terraform-aws-ec2-instance
    name: terraform-aws-ec2
    branches:
      - main
      - develop
    include_tags: true
    max_tags: 3
    path: .
    exclude_paths: []

# Output directory for JSON summaries
output_dir: ./output

# Directory for cloning repositories
clone_dir: ./repos

# MCP (Model Context Protocol) service configuration
mcp:
  auto_ingest: true               # Enable automatic ingestion when MCP server starts
  ingest_on_startup: true         # Run ingestion immediately on startup  
  refresh_interval_hours: 6       # Auto-refresh every 6 hours (null to disable)
  config_file: config.yaml        # Configuration file to use for auto-ingestion
